import asyncio
import logging
from aiogram import Bot, Dispatcher, types, F
from aiogram.filters import Command
from aiogram.types import ReplyKeyboardMarkup, KeyboardButton, InlineKeyboardMarkup, InlineKeyboardButton
from aiogram.fsm.state import State, StatesGroup
from aiogram.fsm.context import FSMContext
from aiogram.fsm.storage.memory import MemoryStorage

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)

# –¢–æ–∫–µ–Ω –±–æ—Ç–∞
BOT_TOKEN = "8421088940:AAEi1hoa8Waeft18d5MU8tIuMA4hoasXee0"

# ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
ADMIN_ID = 7669105039

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞ –∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞
bot = Bot(token=BOT_TOKEN)
storage = MemoryStorage()
dp = Dispatcher(storage=storage)

# –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö
user_data = {}
achievements_data = {}
pending_submissions = {}

# –°–ø–∏—Å–∫–∏ –∞—á–∏–≤–æ–∫ —Å –Ω–∞–≥—Ä–∞–¥–∞–º–∏ (–ø—Ä–æ–Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–µ)
ACHIEVEMENTS = {
    "–û–ë–©–ò–ô": {
        "1. –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!": {"reward": 2, "task": "–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Ç–≥–∫ –Ω–∞ 1 —Ä–∞–∑."},
        "2. –ì–µ—Ä–æ–∏ –Ω–µ –Ω–æ—Å—è—Ç –ø–ª–∞—â–∏...": {"reward": 3, "task": "–ü–æ–º–æ–≥–∏—Ç–µ —Å –Ω–∞–±–æ—Ä–æ–º."},
        "3. –° –¥–∞–ª–µ–∫–∞ –µ—Å–ª–∏ —Å–º–æ—Ç—Ä–µ—Ç—å, —Ç–æ –∫—Ä–∞—Å–∏–≤–æ.": {"reward": 1, "task": "–ü—Ä–∏–π–¥–∏—Ç–µ –≤ –º–µ—Ä—á–µ."},
        "4. –ú–æ–ª–æ–¥–µ—Ü –≤–æ–∑—å–º–∏ –Ω–∞ –ø–æ–ª–∫–µ –∫—Ä–æ–Ω—ã.": {"reward": 6, "task": "–ü—Ä–æ–≥–æ–ª–æ—Å—É–π—Ç–µ –∑–∞ —Ç–≥–∫ –ø—Ä–æ–µ–∫—Ç–∞ 1 —Ä–∞–∑."},
        "5. –î–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤–∞—Å –≤–ª–∞—Å—Ç—å –∏ –∏–µ—Ä–∞—Ä—Ö–∏—è!": {"reward": 10, "task": "–í—Å—Ç—É–ø–∏—Ç–µ –≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—é (–∫–∞–∫ –º–∏–Ω–∏–º—É–º –ø–æ–±—ã—Ç—å –Ω–∞ –Ω–∞–±–æ—Ä–∞—Ö 3 —Ä–∞–∑–∞)."},
        "6. –î–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤–∞—Å –ù–ï –≤–ª–∞—Å—Ç—å –∏ –∏–µ—Ä–∞—Ä—Ö–∏—è.": {"reward": 3, "task": "–í—Å—Ç—Ä–µ—Ç–∏—Ç—å —Å–æ—é–∑–Ω–∏–∫–∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏ –Ω–∞ —Ä–ø/–Ω–∞–±–æ—Ä–µ."},
        "7. Again and again...": {"reward": 3, "task": "–í—Å—Ç—É–ø–∏—Ç–µ –≤ –Ω–æ—Å—Ç 1 —Ä–∞–∑."},
        "8. –î–∞.. –¥–∞.. –ø—Ä–∏–Ω—è—Ç–æ! –í —Å–º—ã—Å–ª–µ —Ç–∞–º –µ—â—ë 2 –ª–∏–º–∏—Ç–∞ —Ç–≥.": {"reward": 10, "task": "–ù–∞–ø–∏—à–∏—Ç–µ –∞–Ω–∫–µ—Ç—É –≤ –Ω–æ—Å—Ç–µ/—á–∞—Ç–µ –ø–æ—Å—Ç–æ—è–ª—å—Ü–µ–≤ 1 —Ä–∞–∑."},
        "9. –ù–µ–ø—Ä–æ—Å—Ç–æ–π –ê–ª—å—è–Ω—Å.": {"reward": 3, "task": "–ö—É–ø–∏—Ç–µ —á—Ç–æ-—Ç–æ –≤ –º–∞–≥–∞–∑–∏–Ω–µ –°–µ–±–∞—Å—Ç—å—è–Ω–∞ –≤–ø–µ—Ä–≤—ã–µ."},
        "10. –ò–º–µ–Ω–Ω–æ —Ç–∞–∫ –ª–∏—à–∞—é—Ç—Å—è –¥–µ–≤—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.": {"reward": 1, "task": "–ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π 1 —Ä–∞–∑."},
        "11. –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è –≥–æ—Ä–¥–∏—Ç—Å—è —Ç–æ–±–æ—é.": {"reward": 9, "task": "–ù–µ –ø–æ–ª—É—á–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è 2 –Ω–µ–¥–µ–ª–∏ 1 —Ä–∞–∑(–ø—Ä–∏–π—Ç–∏ –Ω–∞ –Ω–∞–±–æ—Ä/—Ä–ø –∫–∞–∫ –º–∏–Ω–∏–º—É–º 4 —Ä–∞–∑–∞)."},
        "12. –ü—Ä–æ—Å—Ç–æ –•–æ—Ä–æ—à–∏–π –ë–∏–∑–Ω–µ—Å.": {"reward": 10, "task": "–ö—É–ø–∏—Ç–µ –≤—Å—ë –≤ –º–∞–≥–∞–∑–∏–Ω–µ –°–µ–±–∞—Å—Ç—å—è–Ω–∞ 1 —Ä–∞–∑."},
        "13. –≠—Ç–∞ –∞—á–∏–≤–∫–∞ –æ—Ç—Å—Ç–æ–π!": {"reward": 1, "task": "–ü–æ–±—É–¥—å—Ç–µ –Ω–∞ —ç–∫—Å 1 —Ä–∞–∑."},
        "14. –ò –≤–Ω–æ–≤—å –¥–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!": {"reward": 2, "task": "–≤—Å—Ç—É–ø–∏—Ç–µ –≤ —á–∞—Ç –ø–æ—Å—Ç–æ—è–ª—å—Ü–µ–≤ 1 —Ä–∞–∑."},
        "15. –Ø –≥–æ–≤–æ—Ä—é '–≤–ª–∞–¥–µ–ª–µ—Ü', –≤—ã –≥–æ–≤–æ—Ä–∏—Ç–µ '–ª—É—á—à–∏–π'.": {"reward": 6, "task": "–ü–æ–±—É–¥—å—Ç–µ –Ω–∞ –∏–≤–µ–Ω—Ç–µ."},
        "16. –ü–æ–∏—Å–∫–æ–≤–∞—è –≥—Ä—É–ø–ø–∞.": {"reward": 5, "task": "–°–æ–æ–±—â–∏—Ç—å –æ –Ω–∞—Ä—É—à–µ–Ω–∏–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏."},
        "17. –î–µ–Ω—å–≥–∏ –≤—Å–µ —Ä–µ—à–∞—é—Ç.": {"reward": 4, "task": "–î–∞–π—Ç–µ —Ü–µ–Ω–Ω—É—é –≤–µ—â—å –ø–æ —Ç–∏–ø—É –∫–ª–µ–≤–µ—Ä–∞ –∏–ª–∏ –∂–µ–º—á—É–≥–∞ –ª—é–±–æ–º—É –∏–∑ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏."},
        "18. –ì–æ—Ä—å–∫–æ!": {"reward": 6, "task": "–ü–æ–±—ã–≤–∞–π—Ç–µ –Ω–∞ —Å–≤–∞–¥—å–±–µ 1 —Ä–∞–∑."},
        "19. –ü—Å—Å.. –º–æ–∂–µ—Ç —ç—Ç–æ... –ö –Ω–∞–º?...": {"reward": 8, "task": "–ü—Ä–∏ –ø–æ–º–æ—â–∏ —Å –Ω–∞–±–æ—Ä–æ–º –ø—Ä–∏–≥–ª–∞—Å–∏—Ç–µ –±–æ–ª–µ–µ 10 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ 1 —Ä–∞–∑."},
        "20. –ü–æ—Ç—Ä–æ–≥–∞–π —Ç—Ä–∞–≤—É —á—É–≤–∞–∫.": {"reward": 10, "task": "–ü–æ–±—ã–≤–∞–π—Ç–µ –Ω–∞ —Ä–ø/–Ω–∞–±–æ—Ä–µ 10 —Ä–∞–∑."},
        "21. –ù–∞–∑–∞–¥ –ø—É—Ç–∏ –Ω–µ—Ç—É.": {"reward": 15, "task": "–ü–æ–ª—É—á–∏—Ç–µ –≤—Å–µ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ –∞—á–∏–≤–∫–∏."},
    },
    "–°–£–®–ê": {
        "22. 5 –º–∏–Ω—É—Ç –ø–æ–ª–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π!": {"reward": 10, "task": "–û–±—ã–≤–∞–π—Ç–µ –≤–æ –≤—Å–µ—Ö –∫–æ–º–Ω–∞—Ç–∞—Ö –∑–∞ 1 —Ä–ø 1 —Ä–∞–∑."},
        "23. :3": {"reward": 5, "task": "–ü–æ–≥–ª–∞–¥—å—Ç–µ –≥–ª—É–±–æ–≤–æ–¥–Ω–æ–≥–æ –∫—Ä–æ–ª–∏–∫–∞ –≤ —Ä–ø 1 —Ä–∞–∑."},
        "24. Absolute cinema!": {"reward": 4, "task": "–£—Å—Ç—Ä–æ–π—Ç–µ –¥—Ä–∞–∫—É –∏–ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç –≤ —Ä–ø 1 —Ä–∞–∑."},
        "25. –£—Ñ —è –±—ã —Ç–∞–∫—É—é –º–∞–ª—ã—à–∫—É —Ö–æ—Ç–µ–ª –±—ã...": {"reward": 3, "task": "–ü–æ–±—É–¥—å—Ç–µ 1 —Ä–∞–∑ –Ω–∞ –ø–æ–¥–≤–æ–¥–Ω–æ–π –ª–æ–¥–∫–µ."},
        "26. –ö—Ç–æ —Ç—ã –≤–æ–∏–Ω?!": {"reward": 8, "task": "–ü—Ä–∏ —Å–ª—É—á–∞–∏ –¥—Ä–∞–∫–∏ –≤ —Ä–ø, —Å–¥–µ–ª–∞–π—Ç–µ —Ç–∞–∫ —á—Ç–æ-–±—ã –≤—ã–π—Ç–∏ –∏–∑ –¥—Ä–∞–∫–∏ –±–µ–∑ —Ä–∞–Ω–µ–Ω–∏–π 1 —Ä–∞–∑."},
    },
    "–ü–û–î –í–û–î–û–ô": {
        "27. –ù—É... —ç—Ç–æ —Ä–∞–Ω–æ –∏–ª–∏ –ø–æ–∑–¥–Ω–æ –±—ã —Å–ª—É—á–∏–ª–æ—Å—å?...": {"reward": 4, "task": "–£—Ç–æ–ø–∏—Ç—å—Å—è/–∑–∞–¥–æ—Ö–Ω—É—Ç—å—Å—è –≤ —Ä–ø 1 —Ä–∞–∑."},
        "28. ...–≠–π–Ω—à—Ç–µ–π–Ω –≥–æ—Ä–¥–∏—Ç—Å—è —Ç–æ–±–æ—é.": {"reward": 6, "task": "–†–∞–∑–≤–µ–¥–∏—Ç–µ –æ–≥–æ–Ω—å –≤ –∫–æ–º–Ω–∞—Ç–µ –∫–æ—Ç–æ—Ä–∞—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—Ç–æ–ø–ª–µ–Ω–∞ 1 —Ä–∞–∑."},
        "29. –¢—è–∂–µ–ª—ã–µ –≤–∑–¥–æ—Ö–∏ —á–µ—Ä–µ–∑ –∑–∞–≥—É–±–Ω–∏–∫.": {"reward": 8, "task": "–ü—Ä–æ–≤–µ—Å—Ç–∏ –ø—Ä–∞–∫—Ç–∏–∫—É –ø–æ–¥ –≤–æ–¥–æ–π –¥–ª—è –≥—Ä—É–ø–ø—ã –ø–µ—Ä—Å–æ–Ω–∞–ª–∞ (–æ—Ç 3-... –∏–≥—Ä–æ–∫–æ–≤)."},
        "30. –ü—É–∑—ã—Ä–∏? –î–∞–≤–ª–µ–Ω–∏–µ? –ê–∑–æ—Ç–Ω—ã–π –Ω–∞—Ä–∫–æ–∑?": {"reward": 10, "task": "–í—ã–ø–æ–ª–Ω–∏—Ç–µ —É—Å–ø–µ—à–Ω–æ –≤—Å–µ —É—Å–ª–æ–≤–∏—è –ø—Ä–∞–∫—Ç–∏–∫–∏."},
    },
    "–û–ë–™–ï–ö–¢–´": {
        "31. –ê –¥–∞–ª—å—à–µ —á—Ç–æ?": {"reward": 5, "task": "–°–±–µ–≥–∏—Ç–µ –æ—Ç –¥–æ–ø—Ä–æ—Å–∞ 1 —Ä–∞–∑."},
        "32. –†–µ–≤–æ–ª—é—Ü–∏—è!": {"reward": 6, "task": "–°–±–µ–≥–∏—Ç–µ –∏–∑ –∫–∞–º–µ—Ä—ã."},
        "33. –†–ï–í–û–õ–Æ–¶–ò–Ø–Ø–Ø–Ø!!!": {"reward": 10, "task": "–°–±–µ–≥–∏—Ç–µ –∏–∑ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏."},
        "34. –ê —Ç–∞–∫... –ú–æ–∂–Ω–æ –±—ã–ª–æ?": {"reward": 6, "task": "–°—Ç–∞–Ω—å—Ç–µ –æ–≥–Ω–µ–Ω–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º 1 —Ä–∞–∑."},
    },
    "–ü–ï–†–°–û–ù–ê–õ": {
        "35. –¢–∞–∫–æ–≤—ã –±—É–¥–Ω–∏ —É—á–µ–Ω—ã—Ö.": {"reward": 3, "task": "–ü—Ä–æ–≤–µ–¥–∏—Ç–µ 1 –¥–æ–ø—Ä–æ—Å."},
        "36. –¢–∞–∫–æ–≤—ã –±—É–¥–Ω–∏ —É—á–µ–Ω—ã—Ö, –ø—Ä–∏–≤—ã–∫–∞–π.": {"reward": 6, "task": "–ü—Ä–æ–≤–µ–¥–∏—Ç–µ 3 –¥–æ–ø—Ä–æ—Å–∞."},
        "37. –ß–∞–π, –∫–æ—Ñ–µ, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—é?": {"reward": 2, "task": "–ü–æ—Ä–æ–ª–ª—å—Ç–µ –∑–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª."},
        "38. –†–∞–∑–Ω–æ–≤–∏–¥–Ω—ã–π.": {"reward": 8, "task": "–ü–æ—Ä–æ–ª–ª—å—Ç–µ –∑–∞ –≤—Å–µ —Ä–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞ 1 —Ä–∞–∑."},
        "39. –£ –Ω–∞—Å –±–æ–ª—å—à–µ –Ω–µ—Ç—É –æ–±—å–µ–∫—Ç–æ–≤!": {"reward": 7, "task": "–û–ø—É—Å—Ç–æ—à–∏—Ç–µ –∫–∞–º–µ—Ä—É –æ–±—å–µ–∫—Ç–æ–≤ (—É–∂–µ –ø—É—Å—Ç—ã–µ –Ω–µ —Å—á–∏—Ç–∞—é—Ç—Å—è) 1 —Ä–∞–∑."},
    },
    "–°–ï–ö–†–ï–¢–ö–ò": {
        "40. –ë–∞–Ω —Å–∫–æ—Ä–æ.": {"reward": 20, "task": "√ó√ó√ó √ó√ó√ó√ó√ó√ó√ó√ó —Ñ–æ—Ä–º–∏—Ä–æ–≤–∫–µ √ó√ó √ó√ó√ó√ó√ó√ó, –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç–µ—Å—å √ó √ó√ó√ó 1 —Ä–∞–∑."},
        "41. –ë–∞–Ω –Ω–µ —Å–∫–æ—Ä–æ.": {"reward": 25, "task": "√ó√ó√ó√ó√ó√ó√ó√ó –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç √ó√ó√ó√ó√ó√ó 1 —Ä–∞–∑ :)."},
        "42. –ü–æ—Ç—Ä–æ—à–∏—Ç–µ–ª—å '–£—Ä–±–∞–Ω'.": {"reward": 25, "task": "–£–±–∏—Ç—å √ó√ó√ó√ó√ó√ó√ó√ó√ó √ó√ó √ó-√ó √ó√ó 1 —Ä–∞–∑."},
        "43. –ê–• –¢–´ –ì–ù–ò–î–ê!": {"reward": 15, "task": "√ó√ó√ó√ó√ó√ó√ó –≥–ª—É–±–æ–∫–æ–≤–æ–¥–Ω–æ–≥–æ √ó√ó√ó√ó√ó√ó√ó 1 —Ä–∞–∑."},
        "44. –ü–æ—á–µ–º—É –æ–Ω, –∞ –Ω–µ —è!? - –û–ù –ê –ù–ï –Ø!?": {"reward": 20, "task": "–î–æ–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è √ó √ó√ó√ó√ó√ó √ó√ó√ó√ó√ó√ó√ó√ó√ó √ó√ó —Ä–æ–ª–∫—É, √ó —É–≤–∏–¥–µ—Ç—å √ó√ó√ó √ó√ó √ó√ó√ó√ó√ó√ó √ó –¥—Ä—É–≥–∏–º 1 —Ä–∞–∑."},
        "45. Friend-fire round ‚Ññ2!": {"reward": 25, "task": "–£—Ç–æ–ø–∏—Ç–µ/√ó√ó√ó√ó√ó√ó√ó √ó√ó√ó√ó√ó√ó√ó√ó √ó√ó√ó √ó√ó√ó√ó√ó 1 —Ä–∞–∑."},
        "46. –°–∞–º—ã–π —É–º–Ω—ã–π –∏–≥—Ä–æ–∫ –£—Ä–±–∞–Ω–∞.": {"reward": 20, "task": "–ó–∞–±—É–¥—å—Ç–µ √ó√ó√ó√ó√ó√ó√ó√ó √ó –Ω—ã—Ä–Ω–∏—Ç–µ √ó√ó√ó √ó√ó√ó√ó 1 —Ä–∞–∑."},
        "47. –ü–∞—Ü–∏—Ñ–∏—Å—Ç": {"reward": 20, "task": "–°–±–µ–≥–∏—Ç–µ √ó√ó √ó√ó√ó√ó√ó√ó√ó√ó√ó√ó√ó, √ó√ó √ó√ó√ó√ó√ó√ó√ó √ó –±–æ–π 1 —Ä–∞–∑."},
        "48. I was in the hell, looking at heaven.": {"reward": 25, "task": "–£–±–µ–π—Ç–µ √ó √ó√ó√ó√ó√ó√ó√ó√ó√ó 1 —Ä–∞–∑."},
        "49. –Ø –∑–¥–µ—Å—å –≤–ª–∞—Å—Ç—å!": {"reward": 25, "task": "√ó√ó√ó√ó√ó√ó√ó√ó √ó –¥–æ–ø—Ä–æ—Å–æ–≤ √ó√ó√ó √ó√ó√ó√ó √ó√ó —É–º–µ—Ä–µ–≤ 1 —Ä–∞–∑."},
        "50. Friend fire.": {"reward": 25, "task": "√ó√ó √ó√ó√ó√ó√ó√ó√ó√ó —É–±–∏—Ç—å –¥—Ä—É–≥–æ–≥–æ √ó√ó√ó√ó√ó√ó√ó√ó√ó √ó√ó√ó√ó√ó –æ–±–≤–∏–Ω–∏—Ç—å √ó √ó√ó√ó√ó √ó√ó√ó√ó√ó√ó√ó 1 —Ä–∞–∑."},
    }
}

# –ú–∞–≥–∞–∑–∏–Ω –°–µ–±–∞—Å—Ç—å—è–Ω–∞
SHOP_ITEMS = {
    "–†–û–õ–õ–´": {
        "–ù–∞ 1 —Ä–ø: +1 –∫ —Ä–æ–ª–ª—É": 2,
        "–ù–∞ 1 —Ä–ø: +3 –∫ —Ä–æ–ª–ª—É": 6,
        "–ù–∞ 1 —Ä–ø: +5 –∫ —Ä–æ–ª–ª—É": 10,
        "–ù–∞ 1 —Ä–ø: +7 –∫ —Ä–æ–ª–ª—É": 14,
        "–ù–∞ 1 —Ä–ø: +10 –∫ —Ä–æ–ª–ª—É": 20,
        "–ù–∞ 2 —Ä–ø: +1 –∫ —Ä–æ–ª–ª—É": 3,
        "–ù–∞ 2 —Ä–ø: +3 –∫ —Ä–æ–ª–ª—É": 9,
        "–ù–∞ 2 —Ä–ø: +5 –∫ —Ä–æ–ª–ª—É": 15,
        "–ù–∞ 2 —Ä–ø: +7 –∫ —Ä–æ–ª–ª—É": 21,
        "–ù–∞ 2 —Ä–ø: +10 –∫ —Ä–æ–ª–ª—É": 30,
        "–ù–∞ 3 —Ä–ø: +1 –∫ —Ä–æ–ª–ª—É": 4,
        "–ù–∞ 3 —Ä–ø: +3 –∫ —Ä–æ–ª–ª—É": 12,
        "–ù–∞ 3 —Ä–ø: +5 –∫ —Ä–æ–ª–ª—É": 20,
        "–ù–∞ 3 —Ä–ø: +7 –∫ —Ä–æ–ª–ª—É": 28,
        "–ù–∞ 3 —Ä–ø: +10 –∫ —Ä–æ–ª–ª—É": 40,
    },
    "–ü–†–ï–î–ú–ï–¢–´": {
        "–ö–∞—Ä—Ç–∞ 1 —É—Ä–æ–≤–Ω—è": 50,
        "–ö–∞—Ä—Ç–∞ 2 —É—Ä–æ–≤–Ω—è": 65,
        "–ò–≥—Ä—É—à–∫–∞-–ø–ª—é—à–∫–∞": 49,
        "–ó–Ω–∞—á–æ–∫": 34,
    }
}

class Form(StatesGroup):
    waiting_for_proof = State()
    admin_add_krones = State()
    admin_remove_krones = State()

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
def init_user(user_id):
    if user_id not in user_data:
        user_data[user_id] = {
            "krones": 0,
            "achievements": [],
            "purchases": []
        }
    if user_id not in achievements_data:
        achievements_data[user_id] = []

# –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
def get_main_keyboard():
    return ReplyKeyboardMarkup(
        keyboard=[
            [KeyboardButton(text="/start"), KeyboardButton(text="/send")],
            [KeyboardButton(text="/seba"), KeyboardButton(text="/krones")],
            [KeyboardButton(text="/achievements"), KeyboardButton(text="/myachievements")],
            [KeyboardButton(text="/icons")]
        ],
        resize_keyboard=True
    )

def get_achievements_keyboard():
    return InlineKeyboardMarkup(
        inline_keyboard=[
            [InlineKeyboardButton(text="–û–ë–©–ò–ô", callback_data="ach_–û–ë–©–ò–ô")],
            [InlineKeyboardButton(text="–°–£–®–ê", callback_data="ach_–°–£–®–ê")],
            [InlineKeyboardButton(text="–ü–û–î –í–û–î–û–ô", callback_data="ach_–ü–û–î –í–û–î–û–ô")],
            [InlineKeyboardButton(text="–ü–ï–†–°–û–ù–ê–õ", callback_data="ach_–ü–ï–†–°–û–ù–ê–õ")],
            [InlineKeyboardButton(text="–û–ë–™–ï–ö–¢–´", callback_data="ach_–û–ë–™–ï–ö–¢–´")],
            [InlineKeyboardButton(text="–í–°–ï", callback_data="ach_–í–°–ï")],
            [InlineKeyboardButton(text="–°–ï–ö–†–ï–¢–ö–ò", callback_data="ach_–°–ï–ö–†–ï–¢–ö–ò")]
        ]
    )

def get_icons_keyboard():
    return InlineKeyboardMarkup(
        inline_keyboard=[
            [InlineKeyboardButton(text="–û–ë–©–ò–ï", callback_data="icons_–û–ë–©–ò–ô")],
            [InlineKeyboardButton(text="–°–£–®–ê", callback_data="icons_–°–£–®–ê")],
            [InlineKeyboardButton(text="–ü–û–î –í–û–î–û–ô", callback_data="icons_–ü–û–î –í–û–î–û–ô")],
            [InlineKeyboardButton(text="–ü–ï–†–°–û–ù–ê–õ", callback_data="icons_–ü–ï–†–°–û–ù–ê–õ")],
            [InlineKeyboardButton(text="–û–ë–™–ï–ö–¢–´", callback_data="icons_–û–ë–™–ï–ö–¢–´")]
        ]
    )

def get_shop_keyboard():
    return InlineKeyboardMarkup(
        inline_keyboard=[
            [InlineKeyboardButton(text="–†–û–õ–õ–´", callback_data="shop_–†–û–õ–õ–´")],
            [InlineKeyboardButton(text="–ü–†–ï–î–ú–ï–¢–´", callback_data="shop_–ü–†–ï–î–ú–ï–¢–´")]
        ]
    )

def get_rolls_keyboard():
    keyboard = []
    for item, price in SHOP_ITEMS["–†–û–õ–õ–´"].items():
        keyboard.append([InlineKeyboardButton(text=f"{item} - {price} –∫—Ä–æ–Ω–æ–≤", callback_data=f"buy_{item}")])
    keyboard.append([InlineKeyboardButton(text="–ù–∞–∑–∞–¥", callback_data="back_to_shop")])
    return InlineKeyboardMarkup(inline_keyboard=keyboard)

def get_items_keyboard():
    keyboard = []
    for item, price in SHOP_ITEMS["–ü–†–ï–î–ú–ï–¢–´"].items():
        keyboard.append([InlineKeyboardButton(text=f"{item} - {price} –∫—Ä–æ–Ω–æ–≤", callback_data=f"buy_{item}")])
    keyboard.append([InlineKeyboardButton(text="–ù–∞–∑–∞–¥", callback_data="back_to_shop")])
    return InlineKeyboardMarkup(inline_keyboard=keyboard)

def get_water_keyboard():
    return InlineKeyboardMarkup(
        inline_keyboard=[
            [InlineKeyboardButton(text="–î–∞", callback_data="water_yes")],
            [InlineKeyboardButton(text="–ù–µ—Ç", callback_data="water_no")]
        ]
    )

# –ö–æ–º–∞–Ω–¥–∞ /start
@dp.message(Command("start"))
async def cmd_start(message: types.Message):
    init_user(message.from_user.id)
    
    welcome_text = """- –ó–¥—Ä–∞—Å—Ç–≤—É–π—Ç–µ –Ω–∞—à–∏ –¥–æ—Ä–æ–≥–∏–µ –ø–æ—Å—Ç–æ—è–ª—å—Ü—ã! –ù–∞—à–∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è –æ—Ç–Ω—ã–Ω–µ –∏–º–µ–µ—Ç —Ç–∞–∫—É—é —Ñ—É–Ω–∫—Ü–∏—é –∫–∞–∫ –∞—á–∏–≤–∫–∏.
üó£: –ö–∞–∫ –∏—Ö –ø–æ–ª—É—á–∞—Ç—å –∏ —Å—á–∏—Ç–∞—Ç—å?
–í—Å–µ –ø—Ä–æ—Å—Ç–æ! –ï—Å—Ç—å —Ä–∞–∑–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã –∞—á–∏–≤–æ–∫, –æ–Ω–∏ —Ä–∞–∑–¥–µ–ª—è—é—Ç—Å—è –Ω–∞ 5 —Ä–∞–∑–¥–µ–ª–æ–≤: –æ–±—â–∏–µ, –Ω–∞ —Å—É—à–µ(–æ–±—ä–µ–∫—Ç–∞–º –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—É), –ø–æ–¥ –≤–æ–¥–æ–π, —Ç–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç–∞–º –∏ —Ç–æ–ª—å–∫–æ –ø–µ—Ä—Å–æ–Ω–∞–ª—É.
–ï—Å–ª–∏ –≤—ã –≤—ã–ø–æ–ª–Ω–∏–ª–∏ –∑–∞–¥–∞—á—É –∞—á–∏–≤–∫–∏, —Ç–æ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–∫—Ä–∏–Ω/–≤–∏–¥–µ–æ —Å –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞–º–∏ –ø–æ –∫–æ–º–∞–Ω–¥–µ /send . –ï—Å–ª–∏ –∏—Ö –æ–¥–æ–±—Ä—è—Ç - –≤–∞–º –∑–∞—Å—á–∏—Ç–∞—é—Ç –∫—Ä–æ–Ω—ã, –µ—Å–ª–∏ –Ω–µ—Ç - –≤–∞–º –æ—Ç–ø–∏—à—É—Ç —á—Ç–æ –Ω–µ —Ç–∞–∫.
üó£: –ß—Ç–æ —Ç–∞–∫–æ–µ –∫—Ä–æ–Ω—ã?
–≠—Ç–æ –Ω–∞—à–∞ –µ–¥–∏–Ω–∏—Ü–∞ –≤–∞–ª—é—Ç—ã. –ó–∞ –Ω–µ—ë –º–æ–∂–Ω–æ –ø–æ–∫—É–ø–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã, –±—É—Å—Ç—ã –∫ —Ä–æ–ª–ª—É –∏ —Ç.–¥ –≤ –º–∞–≥–∞–∑–∏–Ω–µ –°–µ–±–∞—Å—Ç—å—è–Ω–∞. –ú–∞–≥–∞–∑–∏–Ω –°–µ–±–∞—Å—Ç—å—è–Ω–∞ -> /seba .
–ú—ã –±—É–¥–µ–º –±–ª–∞–≥–æ–¥–∞—Ä–Ω—ã –µ—Å–ª–∏ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —á–µ–≥–æ –ª–∏–±–æ –∏–∑ –º–∞–≥–∞–∑–∏–Ω–∞ –°–µ–±–∞—Å—Ç—å—è–Ω–∞ –≤—ã –±—É–¥–µ—Ç–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—Ç—å –æ–± —ç—Ç–æ–º –≤ –ª—Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≥–æ–≤–æ—Ä—è —Å–≤–æ–π —é–∑ –≤ —Ç–≥.
–°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥:
/start
/send
/seba
/krones
/achievements
/myachievements
/icons"""
    
    await message.answer(welcome_text, reply_markup=get_main_keyboard())

# –ö–æ–º–∞–Ω–¥–∞ /send
@dp.message(Command("send"))
async def cmd_send(message: types.Message, state: FSMContext):
    init_user(message.from_user.id)
    await message.answer("–û—Ç–ª–∏—á–Ω–æ! –¢–µ–ø–µ—Ä—å –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç/–≤–∏–¥–µ–æ –∫–∞–∫ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ –∞—á–∏–≤–∫–∏ –∏ –ø–æ–¥–ø–∏—à–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∞—á–∏–≤–∫–∏ –∫–æ—Ç–æ—Ä—É—é –≤—ã –≤—ã–ø–æ–ª–Ω—è–µ—Ç–µ. –û–∂–∏–¥–∞–π—Ç–µ –∫—Ä–æ–Ω—ã –≤ —Ç–µ—á–µ–Ω–∏–∏ 24-—Ö —á–∞—Å–æ–≤.")
    await state.set_state(Form.waiting_for_proof)

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤
@dp.message(Form.waiting_for_proof)
async def process_proof(message: types.Message, state: FSMContext):
    user_id = message.from_user.id
    proof_text = message.caption or message.text or "–ë–µ–∑ –æ–ø–∏—Å–∞–Ω–∏—è"
    
    # –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ç–ø—Ä–∞–≤–∫—É
    submission_id = f"{user_id}_{message.message_id}"
    pending_submissions[submission_id] = {
        "user_id": user_id,
        "proof_text": proof_text,
        "message_id": message.message_id
    }
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∞–¥–º–∏–Ω—É
    admin_text = f"–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –Ω–∞ –∞—á–∏–≤–∫—É –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {user_id}:\n\n–¢–µ–∫—Å—Ç: {proof_text}\n\n–î–ª—è –æ–¥–æ–±—Ä–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–º '–û–¥–æ–±—Ä–µ–Ω–æ'"
    
    try:
        if message.photo:
            sent_msg = await bot.send_photo(ADMIN_ID, message.photo[-1].file_id, caption=admin_text)
        elif message.video:
            sent_msg = await bot.send_video(ADMIN_ID, message.video.file_id, caption=admin_text)
        else:
            sent_msg = await bot.send_message(ADMIN_ID, f"{admin_text}\n\n–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ: {message.text}")
        
        pending_submissions[submission_id]["admin_message_id"] = sent_msg.message_id
        
    except Exception as e:
        await message.answer("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞—è–≤–∫–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.")
        logger.error(f"Error sending to admin: {e}")
        return
    
    await message.answer("–í–∞—à–∞ –∑–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É. –û–∂–∏–¥–∞–π—Ç–µ —Ä–µ—à–µ–Ω–∏—è –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤.")
    await state.clear()

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤ –∞–¥–º–∏–Ω–∞
@dp.message(F.reply_to_message)
async def handle_admin_reply(message: types.Message):
    if message.from_user.id != ADMIN_ID:
        return
    
    reply_to = message.reply_to_message.message_id
    submission_id = None
    
    # –ò—â–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∑–∞—è–≤–∫—É
    for sub_id, sub_data in pending_submissions.items():
        if sub_data.get("admin_message_id") == reply_to:
            submission_id = sub_id
            break
    
    if not submission_id:
        return
    
    user_id = pending_submissions[submission_id]["user_id"]
    proof_text = pending_submissions[submission_id]["proof_text"]
    
    if message.text and message.text.lower() == "–æ–¥–æ–±—Ä–µ–Ω–æ":
        # –ò—â–µ–º –∞—á–∏–≤–∫—É –ø–æ –ª—é–±–æ–º—É —Å–æ–≤–ø–∞–¥–∞—é—â–µ–º—É —Å–ª–æ–≤—É
        awarded_achievement = None
        awarded_krones = 0
        
        # –°–æ–∑–¥–∞–µ–º —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–ª–æ–≤ –∏–∑ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞
        proof_words = proof_text.lower().split()
        
        for category, achievements in ACHIEVEMENTS.items():
            for achievement_name, data in achievements.items():
                # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥–æ–µ —Å–ª–æ–≤–æ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –∞—á–∏–≤–∫–∏
                achievement_words = achievement_name.lower().replace(".", "").replace("!", "").split()
                for a_word in achievement_words:
                    if len(a_word) > 3 and a_word in proof_text.lower():  # –ò—â–µ–º —Å–ª–æ–≤–∞ –¥–ª–∏–Ω–Ω–µ–µ 3 —Å–∏–º–≤–æ–ª–æ–≤
                        awarded_achievement = achievement_name
                        awarded_krones = data["reward"]
                        break
                if awarded_achievement:
                    break
            if awarded_achievement:
                break
        
        if awarded_achievement and awarded_achievement not in achievements_data[user_id]:
            # –ù–∞—á–∏—Å–ª—è–µ–º –∫—Ä–æ–Ω—ã –∏ –∞—á–∏–≤–∫—É
            user_data[user_id]["krones"] += awarded_krones
            achievements_data[user_id].append(awarded_achievement)
            
            await bot.send_message(
                user_id, 
                f"–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í–∞—à–∞ –∞—á–∏–≤–∫–∞ '{awarded_achievement}' –æ–¥–æ–±—Ä–µ–Ω–∞! –í—ã –ø–æ–ª—É—á–∏–ª–∏ {awarded_krones} –∫—Ä–æ–Ω–æ–≤."
            )
            await message.answer(f"–ê—á–∏–≤–∫–∞ –æ–¥–æ–±—Ä–µ–Ω–∞! –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {user_id} –ø–æ–ª—É—á–∏–ª {awarded_krones} –∫—Ä–æ–Ω–æ–≤.")
        else:
            await message.answer("–ê—á–∏–≤–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–µ –∏–ª–∏ —É–∂–µ –ø–æ–ª—É—á–µ–Ω–∞.")
    else:
        await bot.send_message(user_id, f"–í–∞—à–∞ –∑–∞—è–≤–∫–∞ –Ω–∞ –∞—á–∏–≤–∫—É –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞. –ü—Ä–∏—á–∏–Ω–∞: {message.text}")
        await message.answer("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –æ—Ç–∫–∞–∑.")
    
    # –£–¥–∞–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—É—é –∑–∞—è–≤–∫—É
    if submission_id in pending_submissions:
        del pending_submissions[submission_id]

# –ö–æ–º–∞–Ω–¥–∞ /seba
@dp.message(Command("seba"))
async def cmd_seba(message: types.Message):
    init_user(message.from_user.id)
    
    shop_text = """–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é —Ç–µ–±—è –¥–æ—Ä–æ–≥–æ–π –∏–≥—Ä–æ–∫ –≤ –º–æ–µ–º –º–∞–≥–∞–∑–∏–Ω–µ. –†–∞—Å–ø–æ–ª–∞–≥–∞–π—Å—è –∫–∞–∫ –¥–æ–º–∞ –∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–∫—É–ø–∏ —Å–µ–±–µ —á—Ç–æ-—Ç–æ –ø–µ—Ä–µ–¥ —É—Ö–æ–¥–æ–º."""
    
    await message.answer(shop_text, reply_markup=get_shop_keyboard())

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–æ–∫ –º–∞–≥–∞–∑–∏–Ω–∞
@dp.callback_query(F.data.startswith("shop_"))
async def process_shop_callback(callback: types.CallbackQuery):
    category = callback.data.split("_")[1]
    
    if category == "–†–û–õ–õ–´":
        rolls_text = """‚Ä¢ –†–û–õ–õ–´ ‚Ä¢
–ë—É—Å—Ç—ã –∫ —Ä–æ–ª–ª—É –Ω–µ —Å—É–º–º–∏—Ä—É—é—Ç—Å—è!!!
‚Üí–ù–µ–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Ä–æ–ª–ª:
–ù–∞ 1 —Ä–ø:
+1 –∫ —Ä–æ–ª–ª—É: 2 –∫—Ä–æ–Ω–∞.
+3 –∫ —Ä–æ–ª–ª—É: 6 –∫—Ä–æ–Ω–æ–≤.
+5 –∫ —Ä–æ–ª–ª—É: 10 –∫—Ä–æ–Ω–æ–≤.
+7 –∫ —Ä–æ–ª–ª—É: 14 –∫—Ä–æ–Ω–æ–≤.
+10 –∫ —Ä–æ–ª–ª—É: 20 –∫—Ä–æ–Ω–æ–≤.

–ù–∞ 2 —Ä–ø:
+1 –∫ —Ä–æ–ª–ª—É: 3 –∫—Ä–æ–Ω–∞.
+3 –∫ —Ä–æ–ª–ª—É: 9 –∫—Ä–æ–Ω–∞.
+5 –∫ —Ä–æ–ª–ª—É: 15 –∫—Ä–æ–Ω–æ–≤.
+7 –∫ —Ä–æ–ª–ª—É: 21 –∫—Ä–æ–Ω.
+10 –∫ —Ä–æ–ª–ª—É: 30 –∫—Ä–æ–Ω–æ–≤.

–ù–∞ 3 —Ä–ø:
+1 –∫ —Ä–æ–ª–ª—É: 4 –∫—Ä–æ–Ω–∞.
+3 –∫ —Ä–æ–ª–ª—É: 12 –∫—Ä–æ–Ω–∞.
+5 –∫ —Ä–æ–ª–ª—É: 20 –∫—Ä–æ–Ω–æ–≤.
+7 –∫ —Ä–æ–ª–ª—É: 28 –∫—Ä–æ–Ω–∞.
+10 –∫ —Ä–æ–ª–ª—É: 40 –∫—Ä–æ–Ω–∞."""
        
        await callback.message.edit_text(rolls_text, reply_markup=get_rolls_keyboard())
    
    elif category == "–ü–†–ï–î–ú–ï–¢–´":
        items_text = """‚Ä¢ –ü–†–ï–î–ú–ï–¢–´ ‚Ä¢

–†–∞–∑–ª–∏—á–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã –ø–æ —Ä–ø, –Ω–µ –æ—á–µ–Ω—å –ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω—ã–µ. –í –ø–ª–∞–Ω–µ –∏—Ç–∞–∫ –ø–æ–Ω—è—Ç–Ω–æ —á—Ç–æ –æ–Ω–∏ –±—É–¥—É—Ç –¥–∞–≤–∞—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä –∞–ø—Ç–µ—á–∫–∏ –≤–µ—Ä—ë–≤–∫–∏ –∏ —Ç.–¥. –ò—Ö –±—É–¥–µ—Ç –ª–∏–º–∏—Ç –Ω–∞ –Ω–µ–¥–µ–ª—é.

‚Ä¢ –ö–∞—Ä—Ç—ã –¥–æ—Å—Ç—É–ø–∞.

1 –∏ 2 —É—Ä–æ–≤–µ–Ω—å –°–µ–±–∞—Å—Ç—å—è–Ω –º–æ–∂–µ—Ç –ø—Ä–æ–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç–∞–º. –ù–æ –±—É–¥–µ—Ç —É—Ç–æ—á–Ω—è—Ç—å —á—Ç–æ —á—Ç–æ-—Ç–æ –ø–æ–≤—Ä–µ–¥–∏–ª–æ—Å—å, –∏ –≤—Ä—è–¥ –ª–∏ –æ–Ω–∏ –ø–æ–º–æ–≥—É—Ç –æ—Ç–∫—Ä—ã—Ç—å –¥–≤–µ—Ä–∏, —Ç–∞–º —É–∂–µ —à–∞–Ω—Å —Å —Ä–æ–ª–ª–æ–º –±–æ–ª—å—à–µ 60 —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –æ–¥–Ω–æ –æ—Ç–∫—Ä—ã—Ç–∏–µ, –º–µ–Ω—å—à–µ - –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ. –ü–æ–ø—ã—Ç–æ–∫: 2 —Ä–∞–∑–∞.
–ö–∞—Ä—Ç–∞ 1 —É—Ä–æ–≤–Ω—è: 50 –∫—Ä–æ–Ω–æ–≤.
–ö–∞—Ä—Ç–∞ 2 —É—Ä–æ–≤–Ω—è: 65 –∫—Ä–æ–Ω–æ–≤.
–ö–∞—Ä—Ç—ã 3 —É—Ä–æ–≤–Ω—è –≥–æ–≤–æ—Ä—è—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç...

‚Ä¢ –ò–≥—Ä—É—à–∫–∏-–ø–ª—é—à–∫–∏.

–ò–≥—Ä—É—à–∫–∞ —Å–∞–º–æ–≥–æ —Å–µ–±—è —Å —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π –ø–æ–º–µ—Ç–∫–æ–π –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏ –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç.

–ú–æ–∂–µ—Ç –¥–∞–≤–∞—Ç—å —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å. –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä—É—Å—Å–∫–∞—è —Ä—É–ª–µ—Ç–∫–∞ –º–µ–Ω—å—à–µ 50 ‚Äì –±—É–¥–µ—Ç –¥–µ–±–∞—Ñ—Ñ, –±–æ–ª—å—à–µ ‚Äì –±–∞—Ñ—Ñ / —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å, 100 / 1 ‚Äì —É–º–µ–Ω—å—à–µ–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Ä–æ–ª–ª–∞ –Ω–∞ 10 (–ù–ê –û–î–ò–ù –õ–Æ–ë–û–ô –ü–û–°–¢). –ö–æ–º–∞–Ω–¥–∞ /roll 10-100.
–¶–µ–Ω–∞: 49 –∫—Ä–æ–Ω–æ–≤.

‚Ä¢ –ó–Ω–∞—á–æ–∫.

–ó–Ω–∞—á–æ–∫ —É —Å–µ–±—è —Å–∞–º–æ–¥–µ–ª—å–Ω—ã–µ. –û–Ω–∏ –±—É–¥—É—Ç –¥–∞–≤–∞—Ç—å –±—É—Å—Ç –ª–∏—à—å –Ω–∞ –æ–¥–Ω–æ —Ä–ø / –æ–¥–∏–Ω –ø–æ—Å—Ç.

–†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —É–≤–ª–µ—á–µ–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω–æ–π —Å–∏–ª—ã. –ö–æ–º–∞–Ω–¥–∞ ‚Äì /roll (–Ω–∞—á–∞–ª—å–Ω–∞—è —Ü–∏—Ñ—Ä–∞ —É–≤–µ–ª–∏—á–µ–Ω–Ω–æ–π –Ω–∞—á–∞–ª—å–Ω–æ–π —Å–∏–ª—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä)10-100).
34 –∫—Ä–æ–Ω–∞."""
        
        await callback.message.edit_text(items_text, reply_markup=get_items_keyboard())
    
    await callback.answer()

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–∫—É–ø–æ–∫
@dp.callback_query(F.data.startswith("buy_"))
async def process_buy_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    init_user(user_id)
    
    item_name = callback.data[4:]  # –£–±–∏—Ä–∞–µ–º "buy_"
    
    # –ò—â–µ–º —Ç–æ–≤–∞—Ä –∏ –µ–≥–æ —Ü–µ–Ω—É
    item_price = None
    for category, items in SHOP_ITEMS.items():
        if item_name in items:
            item_price = items[item_name]
            break
    
    if item_price is None:
        await callback.answer("–¢–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω!")
        return
    
    if user_data[user_id]["krones"] >= item_price:
        # –°–ø–∏—Å–∞–Ω–∏–µ –∫—Ä–æ–Ω–æ–≤
        user_data[user_id]["krones"] -= item_price
        user_data[user_id]["purchases"].append(item_name)
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞—á–∏–≤–∫–∏ –º–∞–≥–∞–∑–∏–Ω–∞
        if "9. –ù–µ–ø—Ä–æ—Å—Ç–æ–π –ê–ª—å—è–Ω—Å." not in achievements_data[user_id]:
            achievements_data[user_id].append("9. –ù–µ–ø—Ä–æ—Å—Ç–æ–π –ê–ª—å—è–Ω—Å.")
            user_data[user_id]["krones"] += 3  # –ù–∞–≥—Ä–∞–¥–∞ –∑–∞ –∞—á–∏–≤–∫—É
            await callback.message.answer("üéâ –í—ã –ø–æ–ª—É—á–∏–ª–∏ –∞—á–∏–≤–∫—É '–ù–µ–ø—Ä–æ—Å—Ç–æ–π –ê–ª—å—è–Ω—Å.' –∏ 3 –∫—Ä–æ–Ω–∞!")
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞—á–∏–≤–∫—É "–ü—Ä–æ—Å—Ç–æ –•–æ—Ä–æ—à–∏–π –ë–∏–∑–Ω–µ—Å"
        all_purchased = all(item in user_data[user_id]["purchases"] for category in SHOP_ITEMS.values() for item in category)
        if all_purchased and "12. –ü—Ä–æ—Å—Ç–æ –•–æ—Ä–æ—à–∏–π –ë–∏–∑–Ω–µ—Å." not in achievements_data[user_id]:
            achievements_data[user_id].append("12. –ü—Ä–æ—Å—Ç–æ –•–æ—Ä–æ—à–∏–π –ë–∏–∑–Ω–µ—Å.")
            user_data[user_id]["krones"] += 10  # –ù–∞–≥—Ä–∞–¥–∞ –∑–∞ –∞—á–∏–≤–∫—É
            await callback.message.answer("üéâ –í—ã –ø–æ–ª—É—á–∏–ª–∏ –∞—á–∏–≤–∫—É '–ü—Ä–æ—Å—Ç–æ –•–æ—Ä–æ—à–∏–π –ë–∏–∑–Ω–µ—Å.' –∏ 10 –∫—Ä–æ–Ω–æ–≤!")
        
        await callback.message.answer(f"–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–∫—É–ø–∫—É! –£ —Ç–µ–±—è –æ—Å—Ç–∞–ª–æ—Å—å {user_data[user_id]['krones']} –∫—Ä–æ–Ω–æ–≤.")
        await callback.answer("–ü–æ–∫—É–ø–∫–∞ —É—Å–ø–µ—à–Ω–∞!")
    else:
        await callback.answer(f"–°–≤–æ—Ä–æ–≤–∞—Ç—å —É–¥—É–º–∞–ª? ")
        # –ö–æ–º–∞–Ω–¥–∞ /krones
@dp.message(Command("krones"))
async def cmd_krones(message: types.Message):
    user_id = message.from_user.id
    init_user(user_id)
    
    await message.answer(f"- –£ –≤–∞—Å {user_data[user_id]['krones']} –∫—Ä–æ–Ω–æ–≤.")
    # –ö–æ–º–∞–Ω–¥–∞ /achievements
@dp.message(Command("achievements"))
async def cmd_achievements(message: types.Message):
    init_user(message.from_user.id)
    
    achievements_text = "- –ò –∫–∞–∫–æ–π –±—ã —Ä–∞–∑–¥–µ–ª –∞—á–∏–≤–æ–∫ –≤—ã –±—ã —Ö–æ—Ç–µ–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å? –û–±—ã—á–Ω–æ –ª—é–¥–∏—à–∫–∏ –±–æ—è—Ç—Å—è —Ä–∞–∑–¥–µ–ª–∞ —Å –≤–æ–¥–æ–π..."
    
    await message.answer(achievements_text, reply_markup=get_achievements_keyboard())

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–æ–∫ –∞—á–∏–≤–æ–∫
@dp.callback_query(F.data.startswith("ach_"))
async def process_achievements_callback(callback: types.CallbackQuery):
    category = callback.data.split("_")[1]
    
    if category == "–í–°–ï":
        response_text = "‚Ä¢ –û–ë–©–ò–ï ‚Ä¢\n\n–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –∑–∞–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±–µ —Ç–µ –∞—á–∏–≤–∫–∏ –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤–Ω–µ —Ä–ø/–Ω–∞ –Ω–∞–±–æ—Ä–µ.\n\n"
        
        response_text += "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!\n–ó–∞–¥–∞—á–∞: –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Ç–≥–∫ –Ω–∞ 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 2 –∫—Ä–æ–Ω–∞.\n\n"
        response_text += "–ì–µ—Ä–æ–∏ –Ω–µ –Ω–æ—Å—è—Ç –ø–ª–∞—â–∏...\n–ó–∞–¥–∞—á–∞: –ü–æ–º–æ–≥–∏—Ç–µ —Å –Ω–∞–±–æ—Ä–æ–º.\n–ù–∞–≥—Ä–∞–¥–∞: 3 –∫—Ä–æ–Ω–∞.\n\n"
        response_text += "–° –¥–∞–ª–µ–∫–∞ –µ—Å–ª–∏ —Å–º–æ—Ç—Ä–µ—Ç—å, —Ç–æ –∫—Ä–∞—Å–∏–≤–æ.\n–ó–∞–¥–∞—á–∞: –ü—Ä–∏–π–¥–∏—Ç–µ –≤ –º–µ—Ä—á–µ.\n–ù–∞–≥—Ä–∞–¥–∞: 1 –∫—Ä–æ–Ω.\n\n"
        response_text += "–ú–æ–ª–æ–¥–µ—Ü –≤–æ–∑—å–º–∏ –Ω–∞ –ø–æ–ª–∫–µ –∫—Ä–æ–Ω—ã.\n–ó–∞–¥–∞—á–∞: –ü—Ä–æ–≥–æ–ª–æ—Å—É–π—Ç–µ –∑–∞ —Ç–≥–∫ –ø—Ä–æ–µ–∫—Ç–∞ 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 6 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–î–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤–∞—Å –≤–ª–∞—Å—Ç—å –∏ –∏–µ—Ä–∞—Ä—Ö–∏—è!\n–ó–∞–¥–∞—á–∞: –í—Å—Ç—É–ø–∏—Ç–µ –≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—é (–∫–∞–∫ –º–∏–Ω–∏–º—É–º –ø–æ–±—ã—Ç—å –Ω–∞ –Ω–∞–±–æ—Ä–∞—Ö 3 —Ä–∞–∑–∞).\n–ù–∞–≥—Ä–∞–¥–∞: 10 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–î–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤–∞—Å –ù–ï –≤–ª–∞—Å—Ç—å –∏ –∏–µ—Ä–∞—Ä—Ö–∏—è.\n–ó–∞–¥–∞—á–∞: –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å —Å–æ—é–∑–Ω–∏–∫–∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏ –Ω–∞ —Ä–ø/–Ω–∞–±–æ—Ä–µ.\n–ù–∞–≥—Ä–∞–¥–∞: 3 –∫—Ä–æ–Ω–∞.\n\n"
        response_text += "Again and again...\n–ó–∞–¥–∞—á–∞: –í—Å—Ç—É–ø–∏—Ç–µ –≤ –Ω–æ—Å—Ç 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 3 –∫—Ä–æ–Ω–∞\n\n"
        response_text += "–î–∞.. –¥–∞.. –ø—Ä–∏–Ω—è—Ç–æ! –í —Å–º—ã—Å–ª–µ —Ç–∞–º –µ—â—ë 2 –ª–∏–º–∏—Ç–∞ —Ç–≥.\n–ó–∞–¥–∞—á–∞: –ù–∞–ø–∏—à–∏—Ç–µ –∞–Ω–∫–µ—Ç—É –≤ –Ω–æ—Å—Ç–µ/—á–∞—Ç–µ –ø–æ—Å—Ç–æ—è–ª—å—Ü–µ–≤ 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 10 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–ù–µ–ø—Ä–æ—Å—Ç–æ–π –ê–ª—å—è–Ω—Å.\n–ó–∞–¥–∞—á–∞: –ö—É–ø–∏—Ç–µ —á—Ç–æ-—Ç–æ –≤ –º–∞–≥–∞–∑–∏–Ω–µ –°–µ–±–∞—Å—Ç—å—è–Ω–∞ –≤–ø–µ—Ä–≤—ã–µ.\n–ù–∞–≥—Ä–∞–¥–∞: 3 –∫—Ä–æ–Ω–∞.\n\n"
        response_text += "–ò–º–µ–Ω–Ω–æ —Ç–∞–∫ –ª–∏—à–∞—é—Ç—Å—è –¥–µ–≤—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.\n–ó–∞–¥–∞—á–∞: –ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 1 –∫—Ä–æ–Ω.\n\n"
        response_text += "–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è –≥–æ—Ä–¥–∏—Ç—Å—è —Ç–æ–±–æ—é.\n–ó–∞–¥–∞—á–∞: –ù–µ –ø–æ–ª—É—á–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è 2 –Ω–µ–¥–µ–ª–∏ 1 —Ä–∞–∑(–ø—Ä–∏–π—Ç–∏ –Ω–∞ –Ω–∞–±–æ—Ä/—Ä–ø –∫–∞–∫ –º–∏–Ω–∏–º—É–º 4 —Ä–∞–∑–∞).\n–ù–∞–≥—Ä–∞–¥–∞: 9 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–ü—Ä–æ—Å—Ç–æ –•–æ—Ä–æ—à–∏–π –ë–∏–∑–Ω–µ—Å.\n–ó–∞–¥–∞—á–∞: –ö—É–ø–∏—Ç–µ –≤—Å—ë –≤ –º–∞–≥–∞–∑–∏–Ω–µ –°–µ–±–∞—Å—Ç—å—è–Ω–∞ 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 10 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–≠—Ç–∞ –∞—á–∏–≤–∫–∞ –æ—Ç—Å—Ç–æ–π!\n–ó–∞–¥–∞—á–∞: –ü–æ–±—É–¥—å—Ç–µ –Ω–∞ —ç–∫—Å 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 1 –∫—Ä–æ–Ω.\n\n"
        response_text += "–ò –≤–Ω–æ–≤—å –¥–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!\n–ó–∞–¥–∞—á–∞: –≤—Å—Ç—É–ø–∏—Ç–µ –≤ —á–∞—Ç –ø–æ—Å—Ç–æ—è–ª—å—Ü–µ–≤ 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 2 –∫—Ä–æ–Ω–∞.\n\n"
        response_text += "–Ø –≥–æ–≤–æ—Ä—é '–≤–ª–∞–¥–µ–ª–µ—Ü', –≤—ã –≥–æ–≤–æ—Ä–∏—Ç–µ '–ª—É—á—à–∏–π'.\n–ó–∞–¥–∞—á–∞: –ü–æ–±—É–¥—å—Ç–µ –Ω–∞ –∏–≤–µ–Ω—Ç–µ.\n–ù–∞–≥—Ä–∞–¥–∞: 6 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–ü–æ–∏—Å–∫–æ–≤–∞—è –≥—Ä—É–ø–ø–∞.\n–ó–∞–¥–∞—á–∞: –°–æ–æ–±—â–∏—Ç—å –æ –Ω–∞—Ä—É—à–µ–Ω–∏–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏.\n–ù–∞–≥—Ä–∞–¥–∞: 5 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–î–µ–Ω—å–≥–∏ –≤—Å–µ —Ä–µ—à–∞—é—Ç.\n–ó–∞–¥–∞—á–∞: –î–∞–π—Ç–µ —Ü–µ–Ω–Ω—É—é –≤–µ—â—å –ø–æ —Ç–∏–ø—É –∫–ª–µ–≤–µ—Ä–∞ –∏–ª–∏ –∂–µ–º—á—É–≥–∞ –ª—é–±–æ–º—É –∏–∑ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏.\n–ù–∞–≥—Ä–∞–¥–∞: 4 –∫—Ä–æ–Ω–∞.\n\n"
        response_text += "–ì–æ—Ä—å–∫–æ!\n–ó–∞–¥–∞—á–∞: –ü–æ–±—ã–≤–∞–π—Ç–µ –Ω–∞ —Å–≤–∞–¥—å–±–µ 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 6 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–ü—Å—Å.. –º–æ–∂–µ—Ç —ç—Ç–æ... –ö –Ω–∞–º?...\n–ó–∞–¥–∞—á–∞: –ü—Ä–∏ –ø–æ–º–æ—â–∏ —Å –Ω–∞–±–æ—Ä–æ–º –ø—Ä–∏–≥–ª–∞—Å–∏—Ç–µ –±–æ–ª–µ–µ 10 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 8 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–ü–æ—Ç—Ä–æ–≥–∞–π —Ç—Ä–∞–≤—É —á—É–≤–∞–∫.\n–ó–∞–¥–∞—á–∞: –ü–æ–±—ã–≤–∞–π—Ç–µ –Ω–∞ —Ä–ø/–Ω–∞–±–æ—Ä–µ 10 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 10 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–ù–∞–∑–∞–¥ –ø—É—Ç–∏ –Ω–µ—Ç—É.\n–ó–∞–¥–∞—á–∞: –ü–æ–ª—É—á–∏—Ç–µ –≤—Å–µ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ –∞—á–∏–≤–∫–∏.\n–ù–∞–≥—Ä–∞–¥–∞: 15 –∫—Ä–æ–Ω–æ–≤.\n\n"

        response_text += "‚Ä¢ –ù–ê –°–£–®–ï(–û–ë–™–ï–ö–¢–ê–ú –ò –ü–ï–†–°–û–ù–ê–õ–£) ‚Ä¢\n\n"
        response_text += "5 –º–∏–Ω—É—Ç –ø–æ–ª–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π!\n–ó–∞–¥–∞—á–∞: –ü–æ–±—ã–≤–∞–π—Ç–µ –≤–æ –≤—Å–µ—Ö –∫–æ–º–Ω–∞—Ç–∞—Ö –∑–∞ 1 —Ä–ø 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 10 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += ":3\n–ó–∞–¥–∞—á–∞: –ü–æ–≥–ª–∞–¥—å—Ç–µ –≥–ª—É–±–æ–≤–æ–¥–Ω–æ–≥–æ –∫—Ä–æ–ª–∏–∫–∞ –≤ —Ä–ø 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 5 –∫—Ä–æ–Ω–∞.\n\n"
        response_text += "Absolute cinema!\n–ó–∞–¥–∞—á–∞: –£—Å—Ç—Ä–æ–π—Ç–µ –¥—Ä–∞–∫—É –∏–ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç –≤ —Ä–ø 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 4 –∫—Ä–æ–Ω–∞.\n\n"
        response_text += "–£—Ñ —è –±—ã —Ç–∞–∫—É—é –º–∞–ª—ã—à–∫—É —Ö–æ—Ç–µ–ª –±—ã...\n–ó–∞–¥–∞—á–∞: –ü–æ–±—É–¥—å—Ç–µ 1 —Ä–∞–∑ –Ω–∞ –ø–æ–¥–≤–æ–¥–Ω–æ–π –ª–æ–¥–∫–µ.\n–ù–∞–≥—Ä–∞–¥–∞: 3 –∫—Ä–æ–Ω–∞.\n\n"
        response_text += "–ö—Ç–æ —Ç—ã –≤–æ–∏–Ω?!\n–ó–∞–¥–∞—á–∞: –ü—Ä–∏ —Å–ª—É—á–∞–∏ –¥—Ä–∞–∫–∏ –≤ —Ä–ø, —Å–¥–µ–ª–∞–π—Ç–µ —Ç–∞–∫ —á—Ç–æ-–±—ã –≤—ã–π—Ç–∏ –∏–∑ –¥—Ä–∞–∫–∏ –±–µ–∑ —Ä–∞–Ω–µ–Ω–∏–π 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: –ï—Å–ª–∏ –±–µ–∑ —Ä–∞–Ω: 8 –∫—Ä–æ–Ω–æ–≤. –° —Ä–∞–Ω–∞–º–∏: 3 –∫—Ä–æ–Ω–∞.\n\n"

        response_text += "‚Ä¢ –ü–û–î –í–û–î–û–ô ‚Ä¢\n\n"
        response_text += "–ù—É... —ç—Ç–æ —Ä–∞–Ω–æ –∏–ª–∏ –ø–æ–∑–¥–Ω–æ –±—ã —Å–ª—É—á–∏–ª–æ—Å—å?...\n–ó–∞–¥–∞—á–∞: –£—Ç–æ–ø–∏—Ç—å—Å—è/–∑–∞–¥–æ—Ö–Ω—É—Ç—å—Å—è –≤ —Ä–ø 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 4 –∫—Ä–æ–Ω–∞.\n\n"
        response_text += "...–≠–π–Ω—à—Ç–µ–π–Ω –≥–æ—Ä–¥–∏—Ç—Å—è —Ç–æ–±–æ—é.\n–ó–∞–¥–∞—á–∞: –†–∞–∑–≤–µ–¥–∏—Ç–µ –æ–≥–æ–Ω—å –≤ –∫–æ–º–Ω–∞—Ç–µ –∫–æ—Ç–æ—Ä–∞—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—Ç–æ–ø–ª–µ–Ω–∞ 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 6 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–¢—è–∂–µ–ª—ã–µ –≤–∑–¥–æ—Ö–∏ —á–µ—Ä–µ–∑ –∑–∞–≥—É–±–Ω–∏–∫.\n–ó–∞–¥–∞—á–∞: –ü—Ä–æ–≤–µ—Å—Ç–∏ –ø—Ä–∞–∫—Ç–∏–∫—É –ø–æ–¥ –≤–æ–¥–æ–π –¥–ª—è –≥—Ä—É–ø–ø—ã –ø–µ—Ä—Å–æ–Ω–∞–ª–∞ (–æ—Ç 3-... –∏–≥—Ä–æ–∫–æ–≤).\n–ù–∞–≥—Ä–∞–¥–∞: 8 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–ü—É–∑—ã—Ä–∏? –î–∞–≤–ª–µ–Ω–∏–µ? –ê–∑–æ—Ç–Ω—ã–π –Ω–∞—Ä–∫–æ–∑?\n–ó–∞–¥–∞—á–∞: –í—ã–ø–æ–ª–Ω–∏—Ç–µ —É—Å–ø–µ—à–Ω–æ –≤—Å–µ —É—Å–ª–æ–≤–∏—è –ø—Ä–∞–∫—Ç–∏–∫–∏.\n–ù–∞–≥—Ä–∞–¥–∞: 10 –∫—Ä–æ–Ω–æ–≤.\n\n"

        response_text += "‚Ä¢ –ß–ò–°–¢–û –û–ë–™–ï–ö–¢–ê–ú ‚Ä¢\n\n"
        response_text += "–ê –¥–∞–ª—å—à–µ —á—Ç–æ?\n–ó–∞–¥–∞—á–∞: –°–±–µ–≥–∏—Ç–µ –æ—Ç –¥–æ–ø—Ä–æ—Å–∞ 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 5 –∫—Ä–æ–Ω–∞.\n\n"
        response_text += "–†–µ–≤–æ–ª—é—Ü–∏—è!\n–ó–∞–¥–∞—á–∞: –°–±–µ–≥–∏—Ç–µ –∏–∑ –∫–∞–º–µ—Ä—ã.\n–ù–∞–≥—Ä–∞–¥–∞: 6 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–†–ï–í–û–õ–Æ–¶–ò–Ø–Ø–Ø–Ø!!!\n–ó–∞–¥–∞—á–∞: –°–±–µ–≥–∏—Ç–µ –∏–∑ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏.\n–ù–∞–≥—Ä–∞–¥–∞: 10 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–ê —Ç–∞–∫... –ú–æ–∂–Ω–æ –±—ã–ª–æ?\n–ó–∞–¥–∞—á–∞: –°—Ç–∞–Ω—å—Ç–µ –æ–≥–Ω–µ–Ω–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 6 –∫—Ä–æ–Ω–æ–≤.\n\n"

        response_text += "‚Ä¢ –ß–ò–°–¢–û –ü–ï–†–°–û–ù–ê–õ–£ ‚Ä¢\n\n"
        response_text += "–¢–∞–∫–æ–≤—ã –±—É–¥–Ω–∏ —É—á–µ–Ω—ã—Ö.\n–ó–∞–¥–∞—á–∞: –ü—Ä–æ–≤–µ–¥–∏—Ç–µ 1 –¥–æ–ø—Ä–æ—Å.\n–ù–∞–≥—Ä–∞–¥–∞: 3 –∫—Ä–æ–Ω–∞.\n\n"
        response_text += "–¢–∞–∫–æ–≤—ã –±—É–¥–Ω–∏ —É—á–µ–Ω—ã—Ö, –ø—Ä–∏–≤—ã–∫–∞–π.\n–ó–∞–¥–∞—á–∞: –ü—Ä–æ–≤–µ–¥–∏—Ç–µ 3 –¥–æ–ø—Ä–æ—Å–∞.\n–ù–∞–≥—Ä–∞–¥–∞: 6 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–ß–∞–π, –∫–æ—Ñ–µ, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—é?\n–ó–∞–¥–∞—á–∞: –ü–æ—Ä–æ–ª–ª—å—Ç–µ –∑–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª.\n–ù–∞–≥—Ä–∞–¥–∞: 2 –∫—Ä–æ–Ω–∞.\n\n"
        response_text += "–†–∞–∑–Ω–æ–≤–∏–¥–Ω—ã–π.\n–ó–∞–¥–∞—á–∞: –ü–æ—Ä–æ–ª–ª—å—Ç–µ –∑–∞ –≤—Å–µ —Ä–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞ 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 8 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–£ –Ω–∞—Å –±–æ–ª—å—à–µ –Ω–µ—Ç—É –æ–±—å–µ–∫—Ç–æ–≤!\n–ó–∞–¥–∞—á–∞: –û–ø—É—Å—Ç–æ—à–∏—Ç–µ –∫–∞–º–µ—Ä—É –æ–±—å–µ–∫—Ç–æ–≤ (—É–∂–µ –ø—É—Å—Ç—ã–µ –Ω–µ —Å—á–∏—Ç–∞—é—Ç—Å—è) 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 7 –∫—Ä–æ–Ω–æ–≤.\n"
        
        await callback.message.edit_text(response_text, reply_markup=get_achievements_keyboard())
    
    elif category == "–ü–û–î –í–û–î–û–ô":
        await callback.message.edit_text("–≤—ã –∑–Ω–∞–µ—Ç–µ –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∞–∫–≤–∞–ª–∞–Ω–≥–æ–º?", reply_markup=get_water_keyboard())
    
    elif category == "–°–ï–ö–†–ï–¢–ö–ò":
        response_text = "=====–°–µ–∫—Ä–µ—Ç–Ω—ã–µ:\n\n–í–Ω–µ —Ä–ø:\n\n"
        response_text += "–ë–∞–Ω —Å–∫–æ—Ä–æ.\n–ó–∞–¥–∞—á–∞: √ó√ó√ó √ó√ó√ó√ó√ó√ó√ó√ó —Ñ–æ—Ä–º–∏—Ä–æ–≤–∫–µ √ó√ó √ó√ó√ó√ó√ó√ó, –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç–µ—Å—å √ó √ó√ó√ó 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 20 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–ë–∞–Ω –Ω–µ —Å–∫–æ—Ä–æ.\n–ó–∞–¥–∞—á–∞: √ó√ó√ó√ó√ó√ó√ó√ó –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç √ó√ó√ó√ó√ó√ó 1 —Ä–∞–∑ :).\n–ù–∞–≥—Ä–∞–¥–∞: 25 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–°—É—à–∞:\n\n"
        response_text += "–ü–æ—Ç—Ä–æ—à–∏—Ç–µ–ª—å '–£—Ä–±–∞–Ω'.\n–ó–∞–¥–∞—á–∞: –£–±–∏—Ç—å √ó√ó√ó√ó√ó√ó√ó√ó√ó √ó√ó √ó-√ó √ó√ó 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 25 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–ê–• –¢–´ –ì–ù–ò–î–ê!\n–ó–∞–¥–∞—á–∞: √ó√ó√ó√ó√ó√ó√ó –≥–ª—É–±–æ–∫–æ–≤–æ–¥–Ω–æ–≥–æ √ó√ó√ó√ó√ó√ó√ó 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 15 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–ü–æ—á–µ–º—É –æ–Ω, –∞ –Ω–µ —è!? - –û–ù –ê –ù–ï –Ø!?\n–ó–∞–¥–∞—á–∞: –î–æ–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è √ó √ó√ó√ó√ó√ó √ó√ó√ó√ó√ó√ó√ó√ó√ó √ó√ó —Ä–æ–ª–∫—É, √ó —É–≤–∏–¥–µ—Ç—å √ó√ó√ó √ó√ó √ó√ó√ó√ó√ó√ó √ó –¥—Ä—É–≥–∏–º 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 20 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–ü–æ–¥ –≤–æ–¥–æ–π:\n\n"
        response_text += "Friend-fire round ‚Ññ2!\n–ó–∞–¥–∞—á–∞: –£—Ç–æ–ø–∏—Ç–µ/√ó√ó√ó√ó√ó√ó√ó √ó√ó√ó√ó√ó√ó√ó√ó √ó√ó√ó √ó√ó√ó√ó√ó 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 25 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–°–∞–º—ã–π —É–º–Ω—ã–π –∏–≥—Ä–æ–∫ –£—Ä–±–∞–Ω–∞.\n–ó–∞–¥–∞—á–∞: –ó–∞–±—É–¥—å—Ç–µ √ó√ó√ó√ó√ó√ó√ó√ó √ó –Ω—ã—Ä–Ω–∏—Ç–µ √ó√ó√ó √ó√ó√ó√ó 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 20 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–û–±—ä–µ–∫—Ç–∞–º:\n\n"
        response_text += "–ü–∞—Ü–∏—Ñ–∏—Å—Ç\n–ó–∞–¥–∞—á–∞: –°–±–µ–≥–∏—Ç–µ √ó√ó √ó√ó√ó√ó√ó√ó√ó√ó√ó√ó√ó, √ó√ó √ó√ó√ó√ó√ó√ó√ó √ó –±–æ–π 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 20 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "I was in the hell, looking at heaven.\n–ó–∞–¥–∞—á–∞: –£–±–µ–π—Ç–µ √ó √ó√ó√ó√ó√ó√ó√ó√ó√ó 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 25 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–ü–µ—Ä—Å–æ–Ω–∞–ª—É:\n\n"
        response_text += "–Ø –∑–¥–µ—Å—å –≤–ª–∞—Å—Ç—å!\n–ó–∞–¥–∞—á–∞: √ó√ó√ó√ó√ó√ó√ó√ó √ó –¥–æ–ø—Ä–æ—Å–æ–≤ √ó√ó√ó √ó√ó√ó√ó √ó√ó —É–º–µ—Ä–µ–≤ 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 25 –∫—Ä–æ–Ω–æ–≤\n\n"
        response_text += "Friend fire.\n–ó–∞–¥–∞—á–∞: √ó√ó √ó√ó√ó√ó√ó√ó√ó√ó —É–±–∏—Ç—å –¥—Ä—É–≥–æ–≥–æ √ó√ó√ó√ó√ó√ó√ó√ó√ó √ó√ó√ó√ó√ó –æ–±–≤–∏–Ω–∏—Ç—å √ó √ó√ó√ó√ó √ó√ó√ó√ó√ó√ó√ó 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 25 –∫—Ä–æ–Ω–æ–≤.\n"
        
        await callback.message.edit_text(response_text, reply_markup=get_achievements_keyboard())
    
    else:
        # –î–ª—è –¥—Ä—É–≥–∏—Ö —Ä–∞–∑–¥–µ–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ ACHIEVEMENTS
        if category in ACHIEVEMENTS:
            response_text = f"‚Ä¢ {category} ‚Ä¢\n\n"
            for achievement, data in ACHIEVEMENTS[category].items():
                response_text += f"{achievement}\n–ó–∞–¥–∞—á–∞: {data['task']}\n–ù–∞–≥—Ä–∞–¥–∞: {data['reward']} –∫—Ä–æ–Ω–æ–≤.\n\n"
            
            await callback.message.edit_text(response_text, reply_markup=get_achievements_keyboard())
    
    await callback.answer()
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–æ–∫ –ø–æ–¥ –≤–æ–¥–æ–π
@dp.callback_query(F.data.startswith("water_"))
async def process_water_callback(callback: types.CallbackQuery):
    answer = callback.data.split("_")[1]
    
    if answer == "no":
        water_instructions = """> –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ —Å–Ω–∞—Ä—è–∂–µ–Ω–∏—è (–ø–µ—Ä—Å–æ–Ω–∞–ª).
- –í—ã–±–æ—Ä –º–∞—Å–∫–∏.
–ú–∞—Å–∫–∞ –æ–¥–Ω–∞ –∏–∑ –≥–ª–∞–≤–Ω—ã—Ö —á–∞—Å—Ç–µ–π –∞–∫–≤–∞–ª–∞–Ω–≥–∞ ‚Äî –æ—Ç –µ—ë –≤—ã–±–æ—Ä–∞ –∑–∞–≤–∏—Å–∏—Ç –≤–∞—à –æ—Ä–∏–µ–Ω—Ç–∏—Ä, —É–¥–æ–±—Å—Ç–≤–æ –æ–±–∑–æ—Ä–∞ –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –≤–æ–∑–¥—É—à–Ω–æ–π –ø—Ä–æ—Å–ª–æ–π–∫–∏.
–ß—Ç–æ–±—ã –µ–µ –ø–æ–¥–æ–±—Ä–∞—Ç—å –Ω–∞–¥–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–∞—Ä—É –¥–µ–π—Å—Ç–≤–∏–π:
1. –í—ã–±–µ—Ä–∏—Ç–µ –ª—é–±—É—é.
2. –ü—Ä–∏—Å–ª–æ–Ω–∏—Ç–µ –∫ –ª–∏—Ü—É.
3. –°–¥–µ–ª–∞–π—Ç–µ –≤–¥–æ—Ö –æ–ø—É—Å—Ç–∏–≤ —Ä—É–∫–∏
4.1. - –ï—Å–ª–∏ –º–∞—Å–∫–∞ –ø—Ä–∏–ª–∏–ø–ª–∞, —Å–ª–µ–≥–∫–∞ –¥–∞–≤–∏—Ç –∏ –Ω–µ –ø–∞–¥–∞–µ—Ç –æ—Ç –ø—Ä–æ—Å—Ç—ã—Ö –¥–≤–∏–∂–µ–Ω–∏–π —ç—Ç–æ –≤–∞—à –≤–∞—Ä–∏–∞–Ω—Ç.
4.2. - –ú–∞—Å–∫–∞ –æ—Ç–ª–∏–ø–ª–∞/—Å–∏–ª—å–Ω–æ –¥–∞–≤–∏—Ç/–ø–∞–¥–∞–µ—Ç –æ—Ç –ª—é–±—ã—Ö –¥–≤–∏–∂–µ–Ω–∏–π. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –≤—Å–µ —Å –ø–µ—Ä–≤–æ–≥–æ –ø—É–Ω–∫—Ç–∞.

- –°–Ω–∞—Ä—è–∂–µ–Ω–∏–µ –±–∞–ª–ª–æ–Ω–∞–º–∏.
–ë–∞–ª–ª–æ–Ω—ã —Å–∞–º–∞—è –≤–∞–∂–Ω–∞—è –≤–µ—â—å –≤ –≤—Å–µ–º —Å–Ω–∞—Ä—è–∂–µ–Ω–∏–µ. –ë–µ–∑ –Ω–µ–µ –Ω–µ –±—ã–ª–æ –±—ã —Å–æ–≤—Å–µ–º –Ω–∞—á–∞–ª—É –ø–æ–¥–≤–æ–¥–Ω—ã—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π. –í—ã–±–∏—Ä–∞—Ç—å –±–∞–ª–ª–æ–Ω—ã —É–∂–µ –Ω–µ –Ω–∞–¥–æ, –æ–Ω–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ. –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∞–ª–ª–æ–Ω—ã –æ—Ç—Å—Ç–∞–≤–ª—è—Ç—å –≤ —è—â–∏–∫ –ø–æ–¥ —Å—Ç–æ–ª–æ–º.
–°—Ç–æ–∏—Ç –ø–æ–Ω–∏–º–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
1. –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å 3 –ª—è–º–∫–∏. –î–≤–µ –Ω–∞ –ø–ª–µ—á–∞—Ö –∏ –æ–¥–Ω—É –Ω–∞ —Ç—É–ª–æ–≤–∏—â–µ.
2. –í—ã—Ç—è–Ω—É—Ç—å —Ç—Ä—É–±–∫—É –ø–æ–¥ –∫–æ–º—Ñ–æ—Ä—Ç–Ω—ã–π —Ä–∞–∑–º–µ—Ä.
3.1. - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ç–æ–∫ –∫–∏—Å–ª–æ—Ä–æ–¥–∞. –ï—Å–ª–∏ –∏–¥–µ—Ç –ø–µ—Ä–µ–π—Ç–∏ –∫ –ø—É–Ω–∫—Ç—É 4.
3.2. - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ç–æ–∫ –∫–∏—Å–ª–æ—Ä–æ–¥–∞. –ï—Å–ª–∏ –æ–Ω –Ω–µ –∏–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–∫—Ä—ã—Ç –ª–∏ —Ä–µ–≥—É–ª—è—Ç–æ—Ä –∏ –∏—Å–ø—Ä–∞–≤–µ–Ω –ª–∏ –∑–∞–≥—É–±–Ω–∏–∫ / –∫–∏—Å–ª–æ—Ä–æ–¥–Ω–∞—è —Ç—Ä—É–±–∫–∞.
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç—å –¥–∞—Ç—á–∏–∫–æ–≤: –≥–ª—É–±–∏–Ω—ã, –≤—Ä–µ–º—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –ø–æ–¥ –≤–æ–¥–æ–π, –∑–∞–ø–∞—Å —Å–∂–∞—Ç–æ–≥–æ –≤–æ–∑–¥—É—Ö–∞ (–∫–∏—Å–ª–æ—Ä–æ–¥–∞).
5. –û–ø—É—Å—Ç–∏—Ç—Å—è –ø–æ–¥ –≤–æ–¥—É. –ê–∫–∫—É—Ä–∞—Ç–Ω–æ.

- –õ–∞—Å—Ç—ã (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –ø–æ–¥–≤–æ–¥–Ω—ã—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π).
–õ–∞—Å—Ç—ã —ç—Ç–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —á–∞—Å—Ç—å –≤ —Å–Ω–∞—Ä—è–∂–µ–Ω–∏–µ. –û–¥–µ–≤–∞—Ç—å –∏–ª–∏ –Ω–µ—Ç —Ä–µ—à–∞–µ—Ç –¥–∞–π–≤–µ—Ä –ø—Ä–∏ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–∏. –í –ø—Ä–∞–∫—Ç–∏–∫–µ —Ä–∞–±–æ—Ç—ã —Å —Å–Ω–∞—Ä—è–∂–µ–Ω–∏–µ–º  –ª–∞—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ. –í–∞–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –ª–∞—Å—Ç—ã –º–æ–≥—É—Ç –≤—Å—Ç—Ä–µ—á–∞—Ç—å—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤ –≥–∏–¥—Ä–æ–∫–æ—Å—Ç—é–º. –ß—Ç–æ–±—ã –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤–æ–π—Ç–∏ –≤ –≤–æ–¥—É –∫–æ—Å–Ω—É–≤—à–∏—Å—å –≤–æ–≥–Ω—É—Ç–æ–π —á–∞—Å—Ç–∏ —Å–ª–µ–≤–∞. –ï—Å–ª–∏ –Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ –æ–¥–µ—Ç—ã –ª–∞—Å—Ç—ã –µ–≥–æ –ø–µ—Ä–µ–¥–≤–∏–∂–µ–Ω–∏–µ —Å—Ç–∞–Ω–µ—Ç –Ω–∞–º–Ω–æ–≥–æ –¥–ª–∏—Ç–µ–ª—å–Ω–µ–µ. –õ–∞—Å—Ç—ã –Ω–µ–º–Ω–æ–≥–æ –º–µ—à–∞—é—Ç –ø–µ—Ä–µ–¥–≤–∏–∂–µ–Ω–∏—é –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏. 
–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∞—Å—Ç—ã –º–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏–π –Ω–µ –Ω–∞–¥–æ:
1. –í–æ–∑—å–º–∏—Ç–µ –æ—Ç–æ–≥–Ω—É–≤ –∑–∞–¥–Ω–∏–µ "—è–∑—ã—á–∫–∏".
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–æ–≥—É –≤ –ø—Ä–æ—Ä–µ–∑.

- –ì–∏–¥—Ä–æ–∫–æ—Å—Ç—é–º.
–ì–∏–¥—Ä–æ–∫–æ—Å—Ç—é–º —Å—Ä–∞–∑—É –Ω–æ—Å–∏—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂-–ø–µ—Ä—Å–æ–Ω–∞–ª. –£—á–µ–Ω—ã–µ/–æ—Ö—Ä–∞–Ω–∞/–º–µ–¥–∏–∫–∏ –Ω–æ—Å—è—Ç –≥–∏–¥—Ä–æ–∫–æ—Å—Ç—é–º –ø–æ–¥ —Ñ–æ—Ä–º–æ–π. –£ –¥–∞–π–≤–µ—Ä–æ–≤ –æ–Ω –æ—Ç–∫—Ä—ã—Ç, —Å–≤–µ—Ä—Ö—É —Ç–µ —á–∞—Å—Ç–æ –ø—Ä–∏–∫—Ä—ã–≤–∞—é—Ç –∫–æ—Ñ—Ç–æ–π/–º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–º –∫–æ–º–±–∏–Ω–µ–∑–æ–Ω–æ–º.

> –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∏—Å–ª–æ—Ä–æ–¥–Ω–æ–π –º–∞—Å–∫–∏ (–ó–ê–ö–õ–Æ–ß–Å–ù–ù–´–ï).
- –ö–∏—Å–ª–æ—Ä–æ–¥–Ω–∞—è –º–∞—Å–∫–∞.
–î–∞–Ω–Ω—ã–π –ø—Ä–∏–±–æ—Ä —Å–æ–∑–¥–∞–Ω –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è –∑–∞–∫–ª—é—á—ë–Ω–Ω—ã—Ö. –î–∞–µ—Ç—Å—è —á–∞—â–µ –≤ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ (–∑–∞–∫–ª—é—á—ë–Ω–Ω–æ–≥–æ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç –≤ –ª—é–±–æ–π –≤–æ–ª—å–µ—Ä –æ–±—ä–µ–∫—Ç–∞ —Ç–µ–º —Å–∞–º—ã–º –¥–∞–µ—Ç—Å—è –ö–ú–ó –¥–ª—è –±–æ–ª–µ–µ –±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω–æ–≥–æ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –≤ –∫–æ–º–Ω–∞—Ç–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è).

–ß—Ç–æ–±—ã –æ–¥–µ—Ç—å –Ω–∞–¥–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ–º–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏–π:
1. –ü—Ä–∏–∂–º–∏—Ç–µ –º–∞—Å–∫—É –∫ –ª–∏—Ü—É.
2. –û–ø—Ä–æ–∫–∏–Ω—å—Ç–µ –ª—è–º–∫–∏ –Ω–∞–∑–∞–¥ –∑–∞ –≥–æ–ª–æ–≤—É –æ—Ç—Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞–≤ –ø–æ–¥ —Å–µ–±—è.
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥–µ—Ä–º–µ—Ç–∏—á–Ω–æ—Å—Ç—å, –º–æ–∂–Ω–æ –Ω–µ–º–Ω–æ–≥–æ –æ–ø—É—Å—Ç–∏—Ç—å –ª–∏—Ü–æ –≤ –≤–æ–¥—É, –ø—Ä–æ–≤–µ—Ä–∏–≤.
4. –ï—Å–ª–∏ –ø–æ–¥–∞—á–∞ –≤–æ–∑–¥—É—Ö–∞ —Å–ª–∏—à–∫–æ–º —Ä–µ–¥–∫–∞—è –ø–æ–∫—Ä—É—Ç–∏—Ç–µ –Ω–∏–∂–Ω–∏–π —Ä–µ–≥—É–ª—è—Ç–æ—Ä.

> –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∞–∫–≤–∞–ª–∞–Ω–≥ (–æ–±—ä–µ–∫—Ç–∞–º).

- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –±–∞–ª–ª–æ–Ω—ã.
–í —á–∞—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω–æ–µ —Å–Ω–∞—Ä—è–∂–µ–Ω–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –≤ –∫–æ–º–±–∏–Ω–µ–∑–æ–Ω –æ–±—ä–µ–∫—Ç–∞. –†–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ –±–∞–ª–ª–æ–Ω—ã, –Ω–æ –±–µ–∑ –¥–∞—Ç—á–∏–∫–æ–≤. –ö–∏—Å–ª–æ—Ä–æ–¥ –ø–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–∞ —Å—á–µ—Ç –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –Ω–∞ —Å—É—à–µ/–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –ø—Ä—è–º–æ –ø–æ–¥ –≤–æ–¥–æ–π."""
        
        await callback.message.edit_text(water_instructions)
    else:
        # –ï—Å–ª–∏ –Ω–∞–∂–∞–ª–∏ "–î–∞", –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∞—á–∏–≤–∫–∏ –ø–æ–¥ –≤–æ–¥–æ–π
        response_text = "‚Ä¢ –ü–û–î –í–û–î–û–ô ‚Ä¢\n\n"
        response_text += "–ù—É... —ç—Ç–æ —Ä–∞–Ω–æ –∏–ª–∏ –ø–æ–∑–¥–Ω–æ –±—ã —Å–ª—É—á–∏–ª–æ—Å—å?...\n–ó–∞–¥–∞—á–∞: –£—Ç–æ–ø–∏—Ç—å—Å—è/–∑–∞–¥–æ—Ö–Ω—É—Ç—å—Å—è –≤ —Ä–ø 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 4 –∫—Ä–æ–Ω–∞.\n\n"
        response_text += "...–≠–π–Ω—à—Ç–µ–π–Ω –≥–æ—Ä–¥–∏—Ç—Å—è —Ç–æ–±–æ—é.\n–ó–∞–¥–∞—á–∞: –†–∞–∑–≤–µ–¥–∏—Ç–µ –æ–≥–æ–Ω—å –≤ –∫–æ–º–Ω–∞—Ç–µ –∫–æ—Ç–æ—Ä–∞—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—Ç–æ–ø–ª–µ–Ω–∞ 1 —Ä–∞–∑.\n–ù–∞–≥—Ä–∞–¥–∞: 6 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–¢—è–∂–µ–ª—ã–µ –≤–∑–¥–æ—Ö–∏ —á–µ—Ä–µ–∑ –∑–∞–≥—É–±–Ω–∏–∫.\n–ó–∞–¥–∞—á–∞: –ü—Ä–æ–≤–µ—Å—Ç–∏ –ø—Ä–∞–∫—Ç–∏–∫—É –ø–æ–¥ –≤–æ–¥–æ–π –¥–ª—è –≥—Ä—É–ø–ø—ã –ø–µ—Ä—Å–æ–Ω–∞–ª–∞ (–æ—Ç 3-... –∏–≥—Ä–æ–∫–æ–≤).\n–ù–∞–≥—Ä–∞–¥–∞: 8 –∫—Ä–æ–Ω–æ–≤.\n\n"
        response_text += "–ü—É–∑—ã—Ä–∏? –î–∞–≤–ª–µ–Ω–∏–µ? –ê–∑–æ—Ç–Ω—ã–π –Ω–∞—Ä–∫–æ–∑?\n–ó–∞–¥–∞—á–∞: –í—ã–ø–æ–ª–Ω–∏—Ç–µ —É—Å–ø–µ—à–Ω–æ –≤—Å–µ —É—Å–ª–æ–≤–∏—è –ø—Ä–∞–∫—Ç–∏–∫–∏.\n–ù–∞–≥—Ä–∞–¥–∞: 10 –∫—Ä–æ–Ω–æ–≤.\n"
        
        await callback.message.edit_text(response_text, reply_markup=get_achievements_keyboard())
    
    await callback.answer()
    # –ö–æ–º–∞–Ω–¥–∞ /myachievements
@dp.message(Command("myachievements"))
async def cmd_myachievements(message: types.Message):
    user_id = message.from_user.id
    init_user(user_id)
    
    user_achievements = achievements_data.get(user_id, [])
    
    if user_achievements:
        achievements_text = "–≠—Ç–æ —Å–ø–∏—Å–æ–∫ —Ç–≤–æ–∏—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∞—á–∏–≤–æ–∫:\n\n"
        for achievement in user_achievements:
            achievements_text += f"‚Ä¢ {achievement}\n"
    else:
        achievements_text = "–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∞—á–∏–≤–æ–∫. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–¥–∞–Ω–∏—è –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ —á–µ—Ä–µ–∑ /send"
    
    await message.answer(achievements_text)
      # –ö–æ–º–∞–Ω–¥–∞ /icons
@dp.message(Command("icons"))
async def cmd_icons(message: types.Message):
    await message.answer("- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–º–∏–∫ –ø–æ—Å—Ç–æ—è–ª—å—Ü–µ–≤ :3")
# –ê–î–ú–ò–ù–°–ö–ò–ï –ö–û–ú–ê–ù–î–´

class Form(StatesGroup):
    waiting_for_proof = State()
    admin_add_krones = State()
    admin_remove_krones = State()

# –ö–æ–º–∞–Ω–¥–∞ /admin
@dp.message(Command("admin"))
async def cmd_admin(message: types.Message):
    if message.from_user.id != ADMIN_ID:
        await message.answer("–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.")
        return
    
    admin_text = """–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å:
/add_krones - –Ω–∞—á–∏—Å–ª–∏—Ç—å –∫—Ä–æ–Ω—ã
/remove_krones - —Å–Ω—è—Ç—å –∫—Ä–æ–Ω—ã
/users - —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"""
    await message.answer(admin_text)

# –ö–æ–º–∞–Ω–¥–∞ /add_krones
@dp.message(Command("add_krones"))
async def cmd_add_krones(message: types.Message, state: FSMContext):
    if message.from_user.id != ADMIN_ID:
        return
    
    await message.answer("–í–≤–µ–¥–∏—Ç–µ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä–æ–Ω —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª:\n–ü—Ä–∏–º–µ—Ä: 123456789 100")
    await state.set_state(Form.admin_add_krones)

# –ö–æ–º–∞–Ω–¥–∞ /remove_krones
@dp.message(Command("remove_krones"))
async def cmd_remove_krones(message: types.Message, state: FSMContext):
    if message.from_user.id != ADMIN_ID:
        return
    
    await message.answer("–í–≤–µ–¥–∏—Ç–µ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä–æ–Ω –¥–ª—è —Å–Ω—è—Ç–∏—è —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª:\n–ü—Ä–∏–º–µ—Ä: 123456789 50")
    await state.set_state(Form.admin_remove_krones)

# –ö–æ–º–∞–Ω–¥–∞ /users
@dp.message(Command("users"))
async def cmd_users(message: types.Message):
    if message.from_user.id != ADMIN_ID:
        return
    
    if not user_data:
        await message.answer("‚ùå –ù–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.")
        return
    
    users_text = "üìä –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:\n\n"
    for user_id, data in user_data.items():
        users_text += f"üë§ ID: {user_id}\nüí∞ –ö—Ä–æ–Ω—ã: {data['krones']}\nüèÜ –ê—á–∏–≤–æ–∫: {len(achievements_data.get(user_id, []))}\n\n"
    
    await message.answer(users_text)

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –∫—Ä–æ–Ω
@dp.message(Form.admin_add_krones)
async def process_add_krones(message: types.Message, state: FSMContext):
    try:
        user_id_str, amount_str = message.text.split()
        user_id = int(user_id_str)
        amount = int(amount_str)
        
        init_user(user_id)
        user_data[user_id]["krones"] += amount
        
        response_text = f"‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é {user_id} –Ω–∞—á–∏—Å–ª–µ–Ω–æ {amount} –∫—Ä–æ–Ω–æ–≤. –¢–µ–ø–µ—Ä—å —É –Ω–µ–≥–æ {user_data[user_id]['krones']} –∫—Ä–æ–Ω–æ–≤."
        await message.answer(response_text)
        print(f"DEBUG: {response_text}")  # –î–ª—è –æ—Ç–ª–∞–¥–∫–∏
        
        # –£–≤–µ–¥–æ–º–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        try:
            user_notification = f"üéâ –í–∞–º –Ω–∞—á–∏—Å–ª–µ–Ω–æ {amount} –∫—Ä–æ–Ω–æ–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º! –¢–µ–ø–µ—Ä—å —É –≤–∞—Å {user_data[user_id]['krones']} –∫—Ä–æ–Ω–æ–≤."
            await bot.send_message(user_id, user_notification)
            print(f"DEBUG: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é {user_id}")
        except Exception as e:
            error_msg = f"‚ö† –ù–µ —É–¥–∞–ª–æ—Å—å —É–≤–µ–¥–æ–º–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {user_id}: {e}"
            await message.answer(error_msg)
            print(f"DEBUG: {error_msg}")
        
    except ValueError:
        error_text = "‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ: ID –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ\n–ü—Ä–∏–º–µ—Ä: 123456789 100"
        await message.answer(error_text)
        print(f"DEBUG: {error_text}")
    except Exception as e:
        error_text = f"‚ùå –û—à–∏–±–∫–∞: {e}"
        await message.answer(error_text)
        print(f"DEBUG: {error_text}")
    
    await state.clear()

# –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–Ω—è—Ç–∏—è –∫—Ä–æ–Ω
@dp.message(Form.admin_remove_krones)
async def process_remove_krones(message: types.Message, state: FSMContext):
    try:
        user_id_str, amount_str = message.text.split()
        user_id = int(user_id_str)
        amount = int(amount_str)
        
        init_user(user_id)
        
        if user_data[user_id]["krones"] >= amount:
            user_data[user_id]["krones"] -= amount
            
            response_text = f"‚úÖ –° –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {user_id} —Å–Ω—è—Ç–æ {amount} –∫—Ä–æ–Ω–æ–≤. –¢–µ–ø–µ—Ä—å —É –Ω–µ–≥–æ {user_data[user_id]['krones']} –∫—Ä–æ–Ω–æ–≤."
            await message.answer(response_text)
            print(f"DEBUG: {response_text}")  # –î–ª—è –æ—Ç–ª–∞–¥–∫–∏
            
            # –£–≤–µ–¥–æ–º–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            try:
                user_notification = f"‚ö† –° –≤–∞—Å —Å–Ω—è—Ç–æ {amount} –∫—Ä–æ–Ω–æ–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º. –¢–µ–ø–µ—Ä—å —É –≤–∞—Å {user_data[user_id]['krones']} –∫—Ä–æ–Ω–æ–≤."
                await bot.send_message(user_id, user_notification)
                print(f"DEBUG: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é {user_id}")
            except Exception as e:
                error_msg = f"‚ö† –ù–µ —É–¥–∞–ª–æ—Å—å —É–≤–µ–¥–æ–º–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {user_id}: {e}"
                await message.answer(error_msg)
                print(f"DEBUG: {error_msg}")
        else:
            error_text = f"‚ùå –£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {user_id} —Ç–æ–ª—å–∫–æ {user_data[user_id]['krones']} –∫—Ä–æ–Ω–æ–≤, –Ω–µ–ª—å–∑—è —Å–Ω—è—Ç—å {amount}."
            await message.answer(error_text)
            print(f"DEBUG: {error_text}")
        
    except ValueError:
        error_text = "‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ: ID –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ\n–ü—Ä–∏–º–µ—Ä: 123456789 50"
        await message.answer(error_text)
        print(f"DEBUG: {error_text}")
    except Exception as e:
        error_text = f"‚ùå –û—à–∏–±–∫–∞: {e}"
        await message.answer(error_text)
        print(f"DEBUG: {error_text}")
    
    await state.clear()
        # –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –¥–ª—è Pydroid 3
if __name__ == "__main__":
    print("–ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è...")
    try:
        asyncio.get_event_loop().run_until_complete(dp.start_polling(bot))
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞: {e}")
